<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_152-release) on Sun Mar 31 23:28:17 MDT 2019 -->
<title>Database</title>
<meta name="date" content="2019-03-31">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Database";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":9,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/example/vitabu/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/example/vitabu/BrowseBooksTest.html" title="class in com.example.vitabu"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/example/vitabu/DatePickerFragment.html" title="class in com.example.vitabu"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/example/vitabu/Database.html" target="_top">Frames</a></li>
<li><a href="Database.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.example.vitabu</div>
<h2 title="Class Database" class="title">Class Database</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.example.vitabu.Database</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Database</span>
extends java.lang.Object</pre>
<div class="block">Singleton Class to encapsulate all logic for interacting with the database.

 All methods in this class that are NOT constructors or getters will take
 two Runnable objects as their first two arguments.
 These arguments will be the success and fail callbacks respectively.  All methods should be able
 to handle null being passed as callbacks without throwing an exception.

 If a value needs to be returned to the user, It should be saved, as a private variable within
 this class, then returned useing a getter that is to be called ONLY from within the success
 callback.

<<<<<<< HEAD
 Ideally all database interactions would be migrated here eventually.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#acceptBorrowRequest-java.lang.Runnable-java.lang.Runnable-com.example.vitabu.BorrowRecord-">acceptBorrowRequest</a></span>(java.lang.Runnable&nbsp;successCallback,
                   java.lang.Runnable&nbsp;failCallback,
                   <a href="../../../com/example/vitabu/BorrowRecord.html" title="class in com.example.vitabu">BorrowRecord</a>&nbsp;record)</code>
<div class="block">Accepts a borrow request.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#checkUsernameAvailability-java.lang.Runnable-java.lang.Runnable-java.lang.String-">checkUsernameAvailability</a></span>(java.lang.Runnable&nbsp;successCallback,
                         java.lang.Runnable&nbsp;failCallback,
                         java.lang.String&nbsp;username)</code>
<div class="block">Checks if username is available.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#createUser-java.lang.Runnable-java.lang.Runnable-java.lang.String-java.lang.String-java.lang.String-com.example.vitabu.Location-">createUser</a></span>(java.lang.Runnable&nbsp;successCallback,
          java.lang.Runnable&nbsp;failCallback,
          java.lang.String&nbsp;email,
          java.lang.String&nbsp;password,
          java.lang.String&nbsp;userName,
          <a href="../../../com/example/vitabu/Location.html" title="class in com.example.vitabu">Location</a>&nbsp;location)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#denyBorrowRequest-java.lang.Runnable-java.lang.Runnable-com.example.vitabu.BorrowRecord-">denyBorrowRequest</a></span>(java.lang.Runnable&nbsp;successCallback,
                 java.lang.Runnable&nbsp;failCallback,
                 <a href="../../../com/example/vitabu/BorrowRecord.html" title="class in com.example.vitabu">BorrowRecord</a>&nbsp;record)</code>
<div class="block">Denys a borrow record.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#fetchUser-java.lang.Runnable-java.lang.Runnable-java.lang.String-">fetchUser</a></span>(java.lang.Runnable&nbsp;successCallback,
         java.lang.Runnable&nbsp;failCallback,
         java.lang.String&nbsp;username)</code>
<div class="block">Fetches a user from database.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#findBorrowRecordsByBookid-java.lang.Runnable-java.lang.Runnable-java.lang.String-">findBorrowRecordsByBookid</a></span>(java.lang.Runnable&nbsp;successCallback,
                         java.lang.Runnable&nbsp;failCallback,
                         java.lang.String&nbsp;bookid)</code>
<div class="block">Gets all borrowrecords that have matching Book id.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#getCurUserName--">getCurUserName</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../com/example/vitabu/User.html" title="class in com.example.vitabu">User</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#getFetchUserReturnValue--">getFetchUserReturnValue</a></span>()</code>
<div class="block">Returns the user that was fetched by fetchUser()
 This method is only to be called from within the success callback passed to fetchUser()</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../com/example/vitabu/BorrowRecord.html" title="class in com.example.vitabu">BorrowRecord</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#getFindBorrowRecordsByBookidReturnValue--">getFindBorrowRecordsByBookidReturnValue</a></span>()</code>
<div class="block">Used to get the ArrayList of borrowRecords that was generated by findBorrowRecordsByBookId()</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/example/vitabu/Database.html" title="class in com.example.vitabu">Database</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#getInstance--">getInstance</a></span>()</code>
<div class="block">Method to get reference to the singleton object.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>com.google.firebase.database.DatabaseReference</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#getRootReference--">getRootReference</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../com/example/vitabu/Book.html" title="class in com.example.vitabu">Book</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#getSearchBooksReturnValue--">getSearchBooksReturnValue</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#resetBookStatus-java.lang.String-">resetBookStatus</a></span>(java.lang.String&nbsp;bookId)</code>
<div class="block">When no more requests exist after deleting the current one, the status of the book needs to
 change back to "available".</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#returnBook-java.lang.Runnable-java.lang.Runnable-com.example.vitabu.Book-com.example.vitabu.BorrowRecord-">returnBook</a></span>(java.lang.Runnable&nbsp;successCallback,
          java.lang.Runnable&nbsp;failCallback,
          <a href="../../../com/example/vitabu/Book.html" title="class in com.example.vitabu">Book</a>&nbsp;book,
          <a href="../../../com/example/vitabu/BorrowRecord.html" title="class in com.example.vitabu">BorrowRecord</a>&nbsp;record)</code>
<div class="block">Returns a book.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#searchBooks-java.lang.Runnable-java.lang.Runnable-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">searchBooks</a></span>(java.lang.Runnable&nbsp;successCallback,
           java.lang.Runnable&nbsp;failCallback,
           java.lang.String&nbsp;author,
           java.lang.String&nbsp;title,
           java.lang.String&nbsp;isbn,
           java.lang.String&nbsp;kwords)</code>
<div class="block">Searches database for books based on the provided search criteria.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#sendReviewNotifications-java.lang.Runnable-java.lang.Runnable-com.example.vitabu.BorrowRecord-">sendReviewNotifications</a></span>(java.lang.Runnable&nbsp;successCallback,
                       java.lang.Runnable&nbsp;failCallback,
                       <a href="../../../com/example/vitabu/BorrowRecord.html" title="class in com.example.vitabu">BorrowRecord</a>&nbsp;record)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#testCallback-java.lang.Runnable-">testCallback</a></span>(java.lang.Runnable&nbsp;callback)</code>
<div class="block">Convienient method to test if you have passed a callback method correctly.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#updateBorrowerCount-java.lang.Runnable-java.lang.Runnable-java.lang.String-">updateBorrowerCount</a></span>(java.lang.Runnable&nbsp;successCallback,
                   java.lang.Runnable&nbsp;failCallback,
                   java.lang.String&nbsp;userName)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/example/vitabu/Database.html#writeUserToDatabase-java.lang.Runnable-java.lang.Runnable-com.example.vitabu.LocalUser-">writeUserToDatabase</a></span>(java.lang.Runnable&nbsp;successCallback,
                   java.lang.Runnable&nbsp;failCallback,
                   <a href="../../../com/example/vitabu/LocalUser.html" title="class in com.example.vitabu">LocalUser</a>&nbsp;user)</code>
<div class="block">Writes User to the database.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../com/example/vitabu/Database.html" title="class in com.example.vitabu">Database</a>&nbsp;getInstance()</pre>
<div class="block">Method to get reference to the singleton object.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Database</dd>
</dl>
</li>
</ul>
<a name="writeUserToDatabase-java.lang.Runnable-java.lang.Runnable-com.example.vitabu.LocalUser-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeUserToDatabase</h4>
<pre>public&nbsp;void&nbsp;writeUserToDatabase(java.lang.Runnable&nbsp;successCallback,
                                java.lang.Runnable&nbsp;failCallback,
                                <a href="../../../com/example/vitabu/LocalUser.html" title="class in com.example.vitabu">LocalUser</a>&nbsp;user)</pre>
<div class="block">Writes User to the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>successCallback</code> - Runnable to call on success.</dd>
<dd><code>failCallback</code> - Runnable to call on fail.</dd>
<dd><code>user</code> - Local user to write to database.</dd>
</dl>
</li>
</ul>
<a name="getCurUserName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurUserName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getCurUserName()</pre>
</li>
</ul>
<a name="createUser-java.lang.Runnable-java.lang.Runnable-java.lang.String-java.lang.String-java.lang.String-com.example.vitabu.Location-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createUser</h4>
<pre>public&nbsp;void&nbsp;createUser(java.lang.Runnable&nbsp;successCallback,
                       java.lang.Runnable&nbsp;failCallback,
                       java.lang.String&nbsp;email,
                       java.lang.String&nbsp;password,
                       java.lang.String&nbsp;userName,
                       <a href="../../../com/example/vitabu/Location.html" title="class in com.example.vitabu">Location</a>&nbsp;location)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>successCallback</code> - Runnable to call on success.</dd>
<dd><code>failCallback</code> - Runnable to call on fail.</dd>
<dd><code>email</code> - String</dd>
<dd><code>password</code> - String</dd>
<dd><code>userName</code> - String</dd>
<dd><code>location</code> - Location object</dd>
</dl>
</li>
</ul>
<a name="testCallback-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testCallback</h4>
<pre>public&nbsp;void&nbsp;testCallback(java.lang.Runnable&nbsp;callback)</pre>
<div class="block">Convienient method to test if you have passed a callback method correctly.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - Runnable to be called back when this method is executed.</dd>
</dl>
</li>
</ul>
<a name="checkUsernameAvailability-java.lang.Runnable-java.lang.Runnable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkUsernameAvailability</h4>
<pre>public&nbsp;void&nbsp;checkUsernameAvailability(java.lang.Runnable&nbsp;successCallback,
                                      java.lang.Runnable&nbsp;failCallback,
                                      java.lang.String&nbsp;username)</pre>
<div class="block">Checks if username is available.  Calls sucsessCallback if it is, and failCallback otherwise.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>successCallback</code> - Runnable to call on success.</dd>
<dd><code>failCallback</code> - Runnable to call on fail.</dd>
<dd><code>username</code> - String username to be checked.</dd>
</dl>
</li>
</ul>
<a name="searchBooks-java.lang.Runnable-java.lang.Runnable-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchBooks</h4>
<pre>public&nbsp;void&nbsp;searchBooks(java.lang.Runnable&nbsp;successCallback,
                        java.lang.Runnable&nbsp;failCallback,
                        java.lang.String&nbsp;author,
                        java.lang.String&nbsp;title,
                        java.lang.String&nbsp;isbn,
                        java.lang.String&nbsp;kwords)</pre>
<div class="block">Searches database for books based on the provided search criteria. The list of books matching
 the criteria can be obtained by calling the method getSearchBooksReturnValue() in the
 successCallback method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>successCallback</code> - Runnable to be called back on successful search.</dd>
<dd><code>failCallback</code> - Runnable to be called if there is a database error.</dd>
<dd><code>author</code> - String</dd>
<dd><code>title</code> - String</dd>
<dd><code>isbn</code> - String</dd>
<dd><code>kwords</code> - String</dd>
</dl>
</li>
</ul>
<a name="getSearchBooksReturnValue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSearchBooksReturnValue</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../com/example/vitabu/Book.html" title="class in com.example.vitabu">Book</a>&gt;&nbsp;getSearchBooksReturnValue()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ArrayList of books matching the search.</dd>
</dl>
</li>
</ul>
<a name="findBorrowRecordsByBookid-java.lang.Runnable-java.lang.Runnable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findBorrowRecordsByBookid</h4>
<pre>public&nbsp;void&nbsp;findBorrowRecordsByBookid(java.lang.Runnable&nbsp;successCallback,
                                      java.lang.Runnable&nbsp;failCallback,
                                      java.lang.String&nbsp;bookid)</pre>
<div class="block">Gets all borrowrecords that have matching Book id.

 NOTE: this method currently sets a permanant listener for datachange! Meaning it will
 continually call the succsess callback passed to it whenever the database changes!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>successCallback</code> - Runnable</dd>
<dd><code>failCallback</code> - Runnable</dd>
<dd><code>bookid</code> - String</dd>
</dl>
</li>
</ul>
<a name="getFindBorrowRecordsByBookidReturnValue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFindBorrowRecordsByBookidReturnValue</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../com/example/vitabu/BorrowRecord.html" title="class in com.example.vitabu">BorrowRecord</a>&gt;&nbsp;getFindBorrowRecordsByBookidReturnValue()</pre>
<div class="block">Used to get the ArrayList of borrowRecords that was generated by findBorrowRecordsByBookId()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Arraylist<BorrowRecord></dd>
</dl>
</li>
</ul>
<a name="fetchUser-java.lang.Runnable-java.lang.Runnable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchUser</h4>
<pre>public&nbsp;void&nbsp;fetchUser(java.lang.Runnable&nbsp;successCallback,
                      java.lang.Runnable&nbsp;failCallback,
                      java.lang.String&nbsp;username)</pre>
<div class="block">Fetches a user from database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>successCallback</code> - Runnable</dd>
<dd><code>failCallback</code> - Runnable</dd>
<dd><code>username</code> - User</dd>
</dl>
</li>
</ul>
<a name="getFetchUserReturnValue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFetchUserReturnValue</h4>
<pre>public&nbsp;<a href="../../../com/example/vitabu/User.html" title="class in com.example.vitabu">User</a>&nbsp;getFetchUserReturnValue()</pre>
<div class="block">Returns the user that was fetched by fetchUser()
 This method is only to be called from within the success callback passed to fetchUser()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>User</dd>
</dl>
</li>
</ul>
<a name="acceptBorrowRequest-java.lang.Runnable-java.lang.Runnable-com.example.vitabu.BorrowRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptBorrowRequest</h4>
<pre>public&nbsp;void&nbsp;acceptBorrowRequest(java.lang.Runnable&nbsp;successCallback,
                                java.lang.Runnable&nbsp;failCallback,
                                <a href="../../../com/example/vitabu/BorrowRecord.html" title="class in com.example.vitabu">BorrowRecord</a>&nbsp;record)</pre>
<div class="block">Accepts a borrow request.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>successCallback</code> - Runnable</dd>
<dd><code>failCallback</code> - Runnable</dd>
<dd><code>record</code> - BorrowRecord</dd>
</dl>
</li>
</ul>
<a name="denyBorrowRequest-java.lang.Runnable-java.lang.Runnable-com.example.vitabu.BorrowRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>denyBorrowRequest</h4>
<pre>public&nbsp;void&nbsp;denyBorrowRequest(java.lang.Runnable&nbsp;successCallback,
                              java.lang.Runnable&nbsp;failCallback,
                              <a href="../../../com/example/vitabu/BorrowRecord.html" title="class in com.example.vitabu">BorrowRecord</a>&nbsp;record)</pre>
<div class="block">Denys a borrow record.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>successCallback</code> - Runnable</dd>
<dd><code>failCallback</code> - Runnable</dd>
<dd><code>record</code> - BorrowRecord</dd>
</dl>
</li>
</ul>
<a name="resetBookStatus-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetBookStatus</h4>
<pre>public&nbsp;void&nbsp;resetBookStatus(java.lang.String&nbsp;bookId)</pre>
<div class="block">When no more requests exist after deleting the current one, the status of the book needs to
 change back to "available". This method accomplishes that interaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bookId</code> - the id of the book for which to reset the status.</dd>
</dl>
</li>
</ul>
<a name="returnBook-java.lang.Runnable-java.lang.Runnable-com.example.vitabu.Book-com.example.vitabu.BorrowRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>returnBook</h4>
<pre>public&nbsp;void&nbsp;returnBook(java.lang.Runnable&nbsp;successCallback,
                       java.lang.Runnable&nbsp;failCallback,
                       <a href="../../../com/example/vitabu/Book.html" title="class in com.example.vitabu">Book</a>&nbsp;book,
                       <a href="../../../com/example/vitabu/BorrowRecord.html" title="class in com.example.vitabu">BorrowRecord</a>&nbsp;record)</pre>
<div class="block">Returns a book.  Will only actually update the database if the current user is the owner of
 the book.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>successCallback</code> - Runnable</dd>
<dd><code>failCallback</code> - Runnable</dd>
<dd><code>book</code> - Book to be returned.</dd>
</dl>
</li>
</ul>
<a name="sendReviewNotifications-java.lang.Runnable-java.lang.Runnable-com.example.vitabu.BorrowRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendReviewNotifications</h4>
<pre>public&nbsp;void&nbsp;sendReviewNotifications(java.lang.Runnable&nbsp;successCallback,
                                    java.lang.Runnable&nbsp;failCallback,
                                    <a href="../../../com/example/vitabu/BorrowRecord.html" title="class in com.example.vitabu">BorrowRecord</a>&nbsp;record)</pre>
</li>
</ul>
<a name="updateBorrowerCount-java.lang.Runnable-java.lang.Runnable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateBorrowerCount</h4>
<pre>public&nbsp;void&nbsp;updateBorrowerCount(java.lang.Runnable&nbsp;successCallback,
                                java.lang.Runnable&nbsp;failCallback,
                                java.lang.String&nbsp;userName)</pre>
</li>
</ul>
<a name="getRootReference--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRootReference</h4>
<pre>public&nbsp;com.google.firebase.database.DatabaseReference&nbsp;getRootReference()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/example/vitabu/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/example/vitabu/BrowseBooksTest.html" title="class in com.example.vitabu"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/example/vitabu/DatePickerFragment.html" title="class in com.example.vitabu"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/example/vitabu/Database.html" target="_top">Frames</a></li>
<li><a href="Database.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
